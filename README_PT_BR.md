# Plugin de Dados de AÃ§Ãµes AKShare para Dify

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python 3.12+](https://img.shields.io/badge/python-3.12+-blue.svg)](https://www.python.org/downloads/)
[![Dify Plugin](https://img.shields.io/badge/Dify-Plugin-green.svg)](https://dify.ai/)
[![AKShare](https://img.shields.io/badge/AKShare-Latest-blue.svg)](https://github.com/akfamily/akshare)

## ğŸ“ InformaÃ§Ãµes de Contato

- **Autor**: shaoxing-xie
- **Email**: sxxiefg@163.com
- **RepositÃ³rio**: [https://github.com/shaoxing-xie/akshare-stockdata-plugin](https://github.com/shaoxing-xie/akshare-stockdata-plugin)
- **RelatÃ³rios de Problemas**: [GitHub Issues](https://github.com/shaoxing-xie/akshare-stockdata-plugin/issues)

## ğŸ“‹ VisÃ£o Geral

**Plugin de Dados de AÃ§Ãµes AKShare** Ã© uma ferramenta abrangente de dados de aÃ§Ãµes desenvolvida especificamente para a plataforma Dify, construÃ­da na renomada biblioteca Python [AKShare](https://github.com/akfamily/akshare). Este plugin oferece aos usuÃ¡rios uma soluÃ§Ã£o de acesso a dados do mercado de aÃ§Ãµes em um sÃ³ lugar, cobrindo mÃºltiplas dimensÃµes de informaÃ§Ãµes profissionais sobre aÃ§Ãµes, incluindo cotaÃ§Ãµes em tempo real, dados histÃ³ricos, anÃ¡lise financeira, fluxo de capital, anÃ¡lise tÃ©cnica e Shanghai-Shenzhen-Hong Kong Stock Connect.

> **Aviso Importante**: Este plugin Ã© uma ferramenta de integraÃ§Ã£o da plataforma Dify baseada na biblioteca AKShare. AKShare Ã© uma biblioteca de interface de dados financeiros de cÃ³digo aberto projetada para fins de pesquisa acadÃªmica. Expressamos nossa sincera gratidÃ£o Ã  equipe do projeto AKShare por seu excelente trabalho.

## ğŸš€ CaracterÃ­sticas Principais

### ğŸ’ **Sem Necessidade de Chave API**
- âœ… **Uso Zero ConfiguraÃ§Ã£o**: NÃ£o Ã© necessÃ¡rio solicitar chaves API ou tokens
- âœ… **Plug and Play**: Pronto para uso imediatamente apÃ³s a instalaÃ§Ã£o, sem configuraÃ§Ã£o complexa
- âœ… **Economia de Custos**: Completamente gratuito para usar, sem limites de uso

### ğŸŒ **Fontes de Dados Autoritativas**
- ğŸ“Š **Eastmoney**: CotaÃ§Ãµes em tempo real, dados financeiros, anÃ¡lise de mercado
- ğŸ“ˆ **Sina Finance**: CotaÃ§Ãµes histÃ³ricas, notÃ­cias de aÃ§Ãµes
- ğŸ¢ **Tonghuashun**: Indicadores tÃ©cnicos, anÃ¡lise de fluxo de capital
- ğŸ’° **Tencent Finance**: Dados de aÃ§Ãµes de Hong Kong e EUA
- ğŸ“± **NetEase Finance**: VisÃ£o geral do mercado, informaÃ§Ãµes de aÃ§Ãµes individuais
- ğŸ”— **APIs PÃºblicas**: Interfaces de dados oficiais das bolsas de valores

### ğŸ› ï¸ **Matriz de Funcionalidades Poderosas**
- ğŸ¯ **8 Ferramentas Profissionais**: Cobrindo todos os aspectos da anÃ¡lise de dados de aÃ§Ãµes
- ğŸŒ **113 Interfaces de Dados**: Cobertura ampla dos principais mercados de aÃ§Ãµes globais
- ğŸ“Š **Suporte Multi-Mercado**: A-shares, B-shares, Hong Kong, EUA, STAR Market, BSE
- ğŸ”„ **Tempo Real + HistÃ³rico**: Tanto cotaÃ§Ãµes em tempo real quanto anÃ¡lise de dados histÃ³ricos
- ğŸ“‹ **SaÃ­da Dupla**: Tabelas Markdown + formato JSON, fÃ¡cil de ler e processar

### ğŸ”§ **Vantagens TÃ©cnicas**
- ğŸ›¡ï¸ **Tratamento Inteligente de Erros**: Mecanismo de retry automÃ¡tico, recuperaÃ§Ã£o elegante de erros
- ğŸŒ **Suporte Completo Unicode**: Processamento perfeito de caracteres chineses e sÃ­mbolos especiais
- âš¡ **OtimizaÃ§Ã£o de Performance**: Isolamento de subprocesso, gerenciamento eficiente de memÃ³ria
- ğŸ”„ **ValidaÃ§Ã£o de ParÃ¢metros**: ValidaÃ§Ã£o automÃ¡tica de parÃ¢metros e conversÃ£o de formato

## ğŸ‘¥ PÃºblico-Alvo

### ğŸ“ **Pesquisadores AcadÃªmicos**
- Pesquisadores de finanÃ§as realizando anÃ¡lise de mercado e pesquisa acadÃªmica
- AcadÃªmicos de economia estudando padrÃµes de volatilidade do mercado de aÃ§Ãµes
- Pesquisadores de ciÃªncia de dados realizando anÃ¡lise quantitativa

### ğŸ¤– **Desenvolvedores de AplicaÃ§Ãµes de IA**
- Construindo assistentes de investimento inteligentes e chatbots financeiros
- Desenvolvendo sistemas de recomendaÃ§Ã£o de aÃ§Ãµes baseados em IA
- Criando ferramentas de anÃ¡lise de dados financeiros automatizadas

### ğŸ’¼ **Profissionais Financeiros**
- Analistas financeiros precisando de acesso rÃ¡pido a dados de mercado
- Gestores de portfÃ³lio monitorando posiÃ§Ãµes de aÃ§Ãµes
- Consultores de investimento fornecendo insights baseados em dados

## ğŸ“Š Ferramentas DisponÃ­veis

### 1. ğŸ“ˆ **Resumo do Mercado de AÃ§Ãµes** (`stock_market_summary`)
- **13 interfaces** cobrindo dados de mercado de A-shares
- Inclui: Resumo de dados de aÃ§Ãµes SSE, estatÃ­sticas de categorias de tÃ­tulos SZSE, dados diÃ¡rios de negociaÃ§Ã£o
- **Interfaces principais**: `stock_sse_summary`, `stock_szse_summary`, `stock_sse_deal_daily`

### 2. ğŸ¢ **Resumo de InformaÃ§Ãµes de AÃ§Ãµes Individuais** (`stock_individual_info_summary`)
- **15 interfaces** para informaÃ§Ãµes detalhadas de empresas
- Inclui: InformaÃ§Ãµes bÃ¡sicas de empresas, dados de IPO, informaÃ§Ãµes de dividendos
- **Interfaces principais**: `stock_individual_info_em`, `stock_ipo_info`, `stock_dividend_detail`

### 3. ğŸ“Š **CotaÃ§Ãµes em Tempo Real** (`stock_spot_quotations`)
- **20 interfaces** para dados de mercado em tempo real
- Inclui: CotaÃ§Ãµes A-shares, B-shares, Hong Kong, EUA, STAR Market
- **Interfaces principais**: `stock_zh_a_spot_em`, `stock_hk_spot_em`, `stock_us_spot_em`

### 4. ğŸ“ˆ **CotaÃ§Ãµes HistÃ³ricas** (`stock_hist_quotations`)
- **15 interfaces** para dados histÃ³ricos de preÃ§os
- Inclui: Dados diÃ¡rios, semanais, mensais, dados de minuto
- **Interfaces principais**: `stock_zh_a_hist`, `stock_hk_hist`, `stock_us_hist`

### 5. ğŸ”— **ParticipaÃ§Ãµes Shanghai-Shenzhen-Hong Kong** (`stock_hsgt_holdings`)
- **12 interfaces** para dados de Stock Connect
- Inclui: Fluxo de capital, participaÃ§Ãµes, dados de ranking
- **Interfaces principais**: `stock_hsgt_fund_flow_summary`, `stock_hsgt_hold_stock_em`

### 6. ğŸ’° **AnÃ¡lise de Fluxo de Capital** (`stock_fund_flow_analysis`)
- **18 interfaces** para anÃ¡lise de fluxo de capital
- Inclui: Fluxo de capital por setor, fluxo de capital individual, dados de ranking
- **Interfaces principais**: `stock_sector_fund_flow_rank`, `stock_individual_fund_flow_rank`

### 7. ğŸ“Š **AnÃ¡lise Financeira** (`stock_financial_analysis`)
- **20 interfaces** para anÃ¡lise financeira
- Inclui: DemonstraÃ§Ãµes financeiras, indicadores financeiros, anÃ¡lise de dÃ­vida
- **Interfaces principais**: `stock_financial_abstract`, `stock_balance_sheet_by_report_em`

### 8. ğŸ“ˆ **AnÃ¡lise TÃ©cnica** (`stock_technical_analysis`)
- **12 interfaces** para indicadores tÃ©cnicos
- Inclui: MÃ©dias mÃ³veis, RSI, MACD, Bollinger Bands
- **Interfaces principais**: `stock_zh_a_hist_min_em`, `stock_zh_a_hist_pre_min_em`

## ğŸš€ InstalaÃ§Ã£o e Uso

### PrÃ©-requisitos
- Dify Platform 1.0+
- Python 3.12+
- ConexÃ£o com internet

### InstalaÃ§Ã£o

#### MÃ©todo 1: Marketplace da Dify (Recomendado)
1. Abra seu workspace da Dify
2. Navegue para **Ferramentas** â†’ **Navegar Marketplace**
3. Procure por **"AKShare Stock Data"** ou **"AKShare è‚¡ç¥¨æ•°æ®"**
4. Clique no botÃ£o **Instalar**
5. Aguarde a instalaÃ§Ã£o ser concluÃ­da e comece a usar

#### MÃ©todo 2: InstalaÃ§Ã£o via GitHub
1. Visite o repositÃ³rio do plugin: [https://github.com/shaoxing-xie/akshare-stockdata-plugin](https://github.com/shaoxing-xie/akshare-stockdata-plugin)
2. Baixe o pacote do plugin da versÃ£o mais recente (arquivo .difypkg)
3. Em seu workspace da Dify:
   - Navegue para **Ferramentas** â†’ **Plugins Locais**
   - Clique em **Carregar Plugin**
   - Selecione o arquivo .difypkg baixado
   - Confirme a instalaÃ§Ã£o

#### MÃ©todo 3: InstalaÃ§Ã£o Manual
1. Clone este repositÃ³rio localmente
   ```bash
   git clone https://github.com/shaoxing-xie/akshare-stockdata-plugin.git
   ```
2. Instale as dependÃªncias Python
   ```bash
   cd akshare-stockdata-plugin
   pip install -r requirements.txt
   ```
3. Empacote o plugin usando Dify CLI
   ```bash
   dify plugin package
   ```
4. Carregue o arquivo .difypkg gerado na Dify

### Uso BÃ¡sico
```python
# Exemplo de uso em workflow da Dify
{
  "interface": "stock_sse_summary",
  "retries": 5,
  "timeout": 300
}
```

## ğŸ“‹ ParÃ¢metros Comuns

### ParÃ¢metros de Rede
- **retries**: NÃºmero de tentativas (1-10, padrÃ£o: 5)
- **timeout**: Tempo limite do subprocesso em segundos (5-3600, padrÃ£o: 240)

### ParÃ¢metros de Data
- **date**: Data de negociaÃ§Ã£o no formato YYYYMMDD (ex: 20240101)
- **symbol**: CÃ³digo da aÃ§Ã£o (ex: 000001, 600000)

### ParÃ¢metros de Mercado
- **market**: Mercado especÃ­fico (A, B, Hong Kong, EUA)
- **period**: PerÃ­odo de dados (daily, weekly, monthly)

## ğŸ”§ ConfiguraÃ§Ã£o AvanÃ§ada

### Timeout por Tipo de Interface
- **Interfaces de Mercado em Tempo Real**: 15 minutos
- **Interfaces de Dados Financeiros**: 10 minutos
- **Interfaces de Dados HistÃ³ricos**: 5 minutos
- **Interfaces BÃ¡sicas**: 2 minutos

### Tratamento de Erros
- Retry automÃ¡tico com backoff exponencial
- ValidaÃ§Ã£o de parÃ¢metros automÃ¡tica
- RecuperaÃ§Ã£o elegante de erros de rede
- Logs detalhados para debugging

## ğŸ“Š Exemplos de SaÃ­da

### Formato Markdown
```markdown
| é¡¹ç›® | è‚¡ç¥¨ | ä¸»æ¿ | ç§‘åˆ›æ¿ |
|------|------|------|--------|
| æµé€šè‚¡æœ¬ | 47466.3 | 45587.82 | 1878.47 |
| æ€»å¸‚å€¼ | 615583.81 | 519873.03 | 95710.77 |
```

### Formato JSON
```json
{
  "data": [
    {
      "é¡¹ç›®": "æµé€šè‚¡æœ¬",
      "è‚¡ç¥¨": "47466.3",
      "ä¸»æ¿": "45587.82",
      "ç§‘åˆ›æ¿": "1878.47"
    }
  ],
  "columns": ["é¡¹ç›®", "è‚¡ç¥¨", "ä¸»æ¿", "ç§‘åˆ›æ¿"],
  "shape": [8, 4]
}
```

## ğŸ¤ ContribuiÃ§Ã£o

ContribuiÃ§Ãµes sÃ£o bem-vindas! Por favor, leia nosso guia de contribuiÃ§Ã£o antes de enviar pull requests.

### Como Contribuir
1. Fork o repositÃ³rio
2. Crie uma branch para sua feature
3. FaÃ§a commit das mudanÃ§as
4. Push para a branch
5. Abra um Pull Request

## ğŸ“„ LicenÃ§a

Este projeto estÃ¡ licenciado sob a LicenÃ§a MIT - veja o arquivo [LICENSE](LICENSE) para detalhes.

## ğŸ™ Agradecimentos

- [AKShare](https://github.com/akfamily/akshare) - Biblioteca Python para dados financeiros
- [Dify](https://dify.ai/) - Plataforma de desenvolvimento de aplicaÃ§Ãµes de IA
- Todos os contribuidores e usuÃ¡rios do projeto

## ğŸ“ Suporte

## ğŸ¯ DemonstraÃ§Ã£o e Exemplos

### ğŸ“‹ **DemonstraÃ§Ã£o de Workflow Dify**

Fornecemos dois arquivos de demonstraÃ§Ã£o de workflow Dify completos que mostram como usar vÃ¡rios recursos do Plugin de Dados de AÃ§Ãµes AKShare:

#### ğŸ”§ **Arquivo de DemonstraÃ§Ã£o 1: DemonstraÃ§Ã£o de Funcionalidade do Plugin**
**Arquivo**: `åº”ç”¨ç¤ºä¾‹/AKShare è‚¡ç¥¨æ•°æ®æ’ä»¶ CHATFLOW-DEMO.yml`

**DescriÃ§Ã£o**: Demonstra o uso de todas as ferramentas do plugin e suas interfaces, mostrando a funcionalidade completa de 8 ferramentas profissionais

**ConteÃºdo da DemonstraÃ§Ã£o**:
- **Resumo do Mercado de AÃ§Ãµes** - AquisiÃ§Ã£o de dados de visÃ£o geral do mercado
- **Resumo de InformaÃ§Ãµes de AÃ§Ãµes Individuais** - Consultas de informaÃ§Ãµes detalhadas de aÃ§Ãµes individuais
- **CotaÃ§Ãµes de AÃ§Ãµes em Tempo Real** - AquisiÃ§Ã£o de dados de preÃ§os em tempo real
- **CotaÃ§Ãµes HistÃ³ricas de AÃ§Ãµes** - AnÃ¡lise de dados de preÃ§os histÃ³ricos
- **ParticipaÃ§Ãµes Shanghai-Shenzhen-Hong Kong Stock Connect** - ParticipaÃ§Ãµes de capital norte
- **AnÃ¡lise de Fluxo de Capital** - AnÃ¡lise de dados de fluxo de capital
- **AnÃ¡lise de Dados Financeiros de AÃ§Ãµes** - AquisiÃ§Ã£o de dados de demonstraÃ§Ãµes financeiras
- **AnÃ¡lise TÃ©cnica de AÃ§Ãµes** - CÃ¡lculos de indicadores tÃ©cnicos

**Recursos da DemonstraÃ§Ã£o**:
- **RamificaÃ§Ã£o Condicional Inteligente** - Seleciona automaticamente interfaces de dados apropriadas com base na entrada do usuÃ¡rio
- **ConversÃ£o de Formato de Dados** - Converte automaticamente tabelas Markdown para arquivos Excel
- **ExibiÃ§Ã£o Multi-dimensional** - Cobre cenÃ¡rios de uso para todas as 8 ferramentas profissionais
- **Workflow Completo** - Processo completo da aquisiÃ§Ã£o de dados Ã  exibiÃ§Ã£o de resultados

#### ğŸ¤– **Arquivo de DemonstraÃ§Ã£o 2: AplicaÃ§Ã£o de AnÃ¡lise Profunda de AÃ§Ãµes Individuais**
**Arquivo**: `åº”ç”¨ç¤ºä¾‹/ä¸ªè‚¡è¡Œæƒ…åˆ†æ-ChatFlow.yml`

**DescriÃ§Ã£o**: AplicaÃ§Ã£o ChatFlow de anÃ¡lise profunda de aÃ§Ãµes individuais baseada no Plugin de Dados de AÃ§Ãµes AKShare, fornecendo anÃ¡lise multi-dimensional de aÃ§Ãµes

**Recursos Principais**:
- **Reconhecimento Inteligente de AÃ§Ãµes** - Identifica automaticamente cÃ³digos de aÃ§Ãµes e tipos de mercado (A-shares de Xangai, A-shares de Shenzhen, Bolsa de Valores de Pequim)
- **AnÃ¡lise de CotaÃ§Ãµes HistÃ³ricas** - AnÃ¡lise tÃ©cnica baseada em dados histÃ³ricos de um ano
- **AnÃ¡lise de Indicadores Financeiros** - AnÃ¡lise fundamental baseada em dados financeiros
- **AnÃ¡lise de Fluxo de Fundos** - AnÃ¡lise de fluxo de fundos baseada em dados de fluxo de capital
- **RelatÃ³rios de Pesquisa de AÃ§Ãµes Individuais** - Acesso aos relatÃ³rios de pesquisa mais recentes de aÃ§Ãµes individuais
- **RecomendaÃ§Ãµes de Investimento Abrangentes** - RecomendaÃ§Ãµes de investimento baseadas em dados multi-dimensionais

**Recursos TÃ©cnicos**:
- **CÃ¡lculo DinÃ¢mico de Datas** - Calcula automaticamente o intervalo de tempo mais recente dos dados histÃ³ricos
- **ValidaÃ§Ã£o do Mercado A-shares** - Identifica e valida inteligentemente cÃ³digos de aÃ§Ãµes A-shares
- **IntegraÃ§Ã£o de MÃºltiplas Fontes de Dados** - Integra cotaÃ§Ãµes histÃ³ricas, dados financeiros, fluxo de fundos, relatÃ³rios de pesquisa e outros dados multi-dimensionais
- **RelatÃ³rios de AnÃ¡lise Profissional** - Gera relatÃ³rios de anÃ¡lise abrangentes incluindo aspectos tÃ©cnicos, fundamentais e de fluxo de fundos

#### ğŸ”§ **Como Usar a DemonstraÃ§Ã£o**
1. Importe o arquivo de demonstraÃ§Ã£o correspondente na plataforma Dify
2. Certifique-se de que o Plugin de Dados de AÃ§Ãµes AKShare estÃ¡ instalado
3. Execute o workflow para experimentar vÃ¡rios recursos de dados de aÃ§Ãµes
4. Modifique e personalize o workflow conforme necessÃ¡rio

Para suporte e perguntas:
- Abra uma issue no GitHub
- Consulte a documentaÃ§Ã£o oficial
- Entre em contato com a equipe de desenvolvimento

---

**Desenvolvido com â¤ï¸ para a comunidade de dados financeiros**
