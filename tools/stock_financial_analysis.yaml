identity:
  author: shaoxing-xie
  name: stock_financial_analysis
  label:
    zh_Hans: 股票财务数据分析(原始接口)
    en_US: Stock Financial Data Analysis (Original Interface)
description:
  human:
    en_US: "Get stock financial data analysis including profit statements, cash flow statements, balance sheets, and financial indicators"
    zh_Hans: "获取股票财务数据分析，包括利润表、现金流量表、资产负债表、财务指标等数据"
  llm: 通过AKShare数据接口获取股票财务数据分析相关数据，包括A股业绩快报利润表、现金流量表、资产负债表，以及同花顺财务指标、新浪关键指标、财务分析指标等
parameters:
  - name: interface
    type: select
    required: true
    form: llm
    default: stock_yjbb_em
    description: 接口名称
    llm_description: 选择A股财务分析相关接口。分类包括：业绩快报、财务指标、财务报表、财务分析。大部分接口需要特定参数如股票代码、日期、指标或报表类型。
    human_description:
      en_US: "Select the A-share financial analysis interface. Categories: Performance Reports, Financial Indicators, Financial Statements, Financial Analysis. Most interfaces require specific parameters like stock code, date, indicator, or report type."
      zh_Hans: "选择A股财务分析相关接口。分类包括：业绩快报、财务指标、财务报表、财务分析。大部分接口需要特定参数如股票代码、日期、指标或报表类型。"
    label:
      en_US: Interface
      zh_Hans: 接口名称
    options:
      - label:
          en_US: East Money - Performance Report - Specify Report Date
          zh_Hans: 东方财富网-业绩报表-指定报告日期
        value: stock_yjbb_em
      - label:
          en_US: East Money - Performance Forecast - Specify Report Date
          zh_Hans: 东方财富网-业绩快报-指定报告日期
        value: stock_yjkb_em
      - label:
          en_US: East Money - Performance Prediction - Specify Report Date
          zh_Hans: 东方财富网-业绩预告-指定报告日期
        value: stock_yjyg_em
      - label:
          en_US: East Money - Performance Report - Profit Statement - Specify Report Date
          zh_Hans: 东方财富网-业绩快报-利润表-指定报告日期
        value: stock_lrb_em
      - label:
          en_US: East Money - Performance Report - Cash Flow Statement - Specify Report Date
          zh_Hans: 东方财富网-业绩快报-现金流量表-指定报告日期
        value: stock_xjll_em
      - label:
          en_US: East Money - Performance Report - Balance Sheet - Specify Report Date
          zh_Hans: 东方财富网-业绩快报-资产负债表-指定报告日期
        value: stock_zcfz_em
      - label:
          en_US: East Money - BJ Exchange - Performance Report - Balance Sheet - Specify Report Date
          zh_Hans: 东方财富网-北交所-业绩快报-资产负债表-指定报告日期
        value: stock_zcfz_bj_em
      - label:
          en_US: Sina Finance - Financial Report - Specify Stock, Report Type
          zh_Hans: 新浪财经-财务报表-指定股票、报表类型
        value: stock_financial_report_sina
      - label:
          en_US: Eastmoney - Balance Sheet (by Report Period) - Specific Stock
          zh_Hans: 东方财富网-资产负债表-按报告期-指定股票
        value: stock_balance_sheet_by_report_em
      - label:
          en_US: Eastmoney - Balance Sheet (by Yearly) - Specific Stock
          zh_Hans: 东方财富网-资产负债表-按年度-指定股票
        value: stock_balance_sheet_by_yearly_em
      - label:
          en_US: Eastmoney - Profit Sheet (by Report Period) - Specific Stock
          zh_Hans: 东方财富网-利润表-按报告期-指定股票
        value: stock_profit_sheet_by_report_em
      - label:
          en_US: Eastmoney - Profit Sheet (by Yearly) - Specific Stock
          zh_Hans: 东方财富网-利润表-按年度-指定股票
        value: stock_profit_sheet_by_yearly_em
      - label:
          en_US: Eastmoney - Profit Sheet (by Quarterly) - Specific Stock
          zh_Hans: 东方财富网-利润表-按单季度-指定股票
        value: stock_profit_sheet_by_quarterly_em
      - label:
          en_US: Eastmoney - Cash Flow Sheet (by Report Period) - Specific Stock
          zh_Hans: 东方财富网-现金流量表-按报告期-指定股票
        value: stock_cash_flow_sheet_by_report_em
      - label:
          en_US: Eastmoney - Cash Flow Sheet (by Yearly) - Specific Stock
          zh_Hans: 东方财富网-现金流量表-按年度-指定股票
        value: stock_cash_flow_sheet_by_yearly_em
      - label:
          en_US: Eastmoney - Cash Flow Sheet (by Quarterly) - Specific Stock
          zh_Hans: 东方财富网-现金流量表-按单季度-指定股票
        value: stock_cash_flow_sheet_by_quarterly_em
      - label:
          en_US: THS - Individual Balance Sheet - By Report Type
          zh_Hans: 同花顺-资产负债表-指定股票、报告类型
        value: stock_financial_debt_ths
      - label:
          en_US: THS - Individual Income Statement - By Report Type
          zh_Hans: 同花顺-个股利润表-指定股票、报告类型
        value: stock_financial_benefit_ths
      - label:
          en_US: THS - Individual Cash Flow Statement - By Report Type
          zh_Hans: 同花顺-现金流量表-指定股票、报告类型
        value: stock_financial_cash_ths
      - label:
          en_US: Sina Finance - Financial Statements (Key Indicators) - Specific Stock
          zh_Hans: 新浪财经-财务报表-关键指标-指定股票
        value: stock_financial_abstract
      - label:
          en_US: Flush - Financial Indicators - Main Indicators - Specify Stock, Indicator Type
          zh_Hans: 同花顺-财务指标-主要指标-指定股票、指标类型
        value: stock_financial_abstract_ths
      - label:
          en_US: Eastmoney - A-share Financial Analysis (Main Indicators) - By Report Type
          zh_Hans: 东方财富网-A股财务分析-主要指标-指定股票、报告类型
        value: stock_financial_analysis_indicator_em
      - label:
          en_US: Sina Finance - Financial Analysis - Financial Indicators - Specify Stock, Start Year
          zh_Hans: 新浪财经-财务分析-财务指标-指定股票、起始年份
        value: stock_financial_analysis_indicator

  - name: symbol
    type: string
    required: false
    form: llm
    default: "000001"
    description: 股票代码
    llm_description: 股票代码，用于需要股票代码的接口
    human_description:
      en_US: "Stock code. Required for: Flush - Financial Indicators - Balance Sheet, Flush - Financial Indicators - Profit Statement, Flush - Financial Indicators - Cash Flow Statement, Financial Statements - Key Indicators, Flush - Financial Indicators - Main Indicators, Financial Analysis - Financial Indicators."
      zh_Hans: "股票代码。需要此参数的接口：同花顺-财务指标-资产负债表、同花顺-财务指标-利润表、同花顺-财务指标-现金流量表、财务报表-关键指标、财务指标-主要指标、财务分析-财务指标。"
    label:
      en_US: Stock Code
      zh_Hans: 股票代码

  - name: date
    type: string
    required: false
    form: llm
    default: "20250630"
    description: 报告日期
    llm_description: 报告日期，格式为YYYYMMDD，用于业绩快报类接口
    human_description:
      en_US: "Report date. Format: 'XXXX0331', 'XXXX0630', 'XXXX0930', 'XXXX1231'; Starting from 20120331. Required for: Performance Report - Profit Statement, Performance Report - Cash Flow Statement, Performance Report - Balance Sheet, BJ Exchange - Performance Report - Balance Sheet."
      zh_Hans: "报告日期。格式：\"XXXX0331\", \"XXXX0630\", \"XXXX0930\", \"XXXX1231\"; 从 20120331 开始。需要此参数的接口：业绩快报-利润表、业绩快报-现金流量表、业绩快报-资产负债表、北交所-业绩快报-资产负债表。"
    label:
      en_US: Report Date
      zh_Hans: 报告日期

  - name: indicator_ths
    type: select
    required: false
    form: llm
    default: 按报告期
    description: 指标类型
    llm_description: A股同花顺财务指标接口的指标类型参数
    human_description:
      en_US: "A-share THS indicator type. Required for: Flush - Financial Indicators - Balance Sheet, Flush - Financial Indicators - Profit Statement, Flush - Financial Indicators - Cash Flow Statement, Flush - Financial Indicators - Main Indicators."
      zh_Hans: "A股同花顺指标类型。需要此参数的接口：同花顺-财务指标-资产负债表、同花顺-财务指标-利润表、同花顺-财务指标-现金流量表、同花顺-财务指标-主要指标。"
    label:
      en_US: Indicator Type
      zh_Hans: 指标类型
    options:
      - label:
          en_US: By Report Period
          zh_Hans: 按报告期
        value: 按报告期
      - label:
          en_US: By Year
          zh_Hans: 按年度
        value: 按年度
      - label:
          en_US: By Single Quarter
          zh_Hans: 按单季度
        value: 按单季度

  - name: report_type
    type: select
    required: false
    form: llm
    default: 年报
    description: 报告类型
    llm_description: 财务报表的报告类型，用于同花顺财务报表接口
    human_description:
      en_US: "Report type. Required for: THS - Individual Balance Sheet, THS - Individual Income Statement, THS - Individual Cash Flow Statement. Options: Annual Report (年报), Quarterly Report (季报), Interim Report (中报)."
      zh_Hans: "报告类型。需要此参数的接口：同花顺-资产负债表、同花顺-个股利润表、同花顺-现金流量表。选项：年报、季报、中报。"
    label:
      en_US: Report Type
      zh_Hans: 报告类型
    options:
      - label:
          en_US: Annual Report
          zh_Hans: 年报
        value: 年报
      - label:
          en_US: Quarterly Report
          zh_Hans: 季报
        value: 季报
      - label:
          en_US: Interim Report
          zh_Hans: 中报
        value: 中报

  - name: start_year
    type: string
    required: false
    form: llm
    default: "2024"
    description: 起始年份
    llm_description: 起始年份，用于财务分析指标接口
    human_description:
      en_US: "Start year. Required for: Financial Analysis - Financial Indicators - Specify Stock, Start Year."
      zh_Hans: "起始年份。需要此参数的接口：财务分析-财务指标-指定股票、起始年份。"
    label:
      en_US: Start Year
      zh_Hans: 起始年份
  
  - name: report_type_sina
    type: select
    required: false
    form: llm
    default: 资产负债表
    description: 新浪财务报表类型
    llm_description: 新浪财经财务报表的报表类型
    human_description:
      en_US: "Sina Finance report type. Required for: Sina Finance - Financial Report. Options: Balance Sheet (资产负债表), Income Statement (利润表), Cash Flow Statement (现金流量表)."
      zh_Hans: "新浪财经报表类型。需要此参数的接口：新浪财经-财务报表。选项：资产负债表、利润表、现金流量表。"
    label:
      en_US: Sina Report Type
      zh_Hans: 新浪报表类型
    options:
      - label:
          en_US: Balance Sheet
          zh_Hans: 资产负债表
        value: 资产负债表
      - label:
          en_US: Income Statement
          zh_Hans: 利润表
        value: 利润表
      - label:
          en_US: Cash Flow Statement
          zh_Hans: 现金流量表
        value: 现金流量表
  
  - name: retries
    type: number
    required: false
    form: llm
    default: 5
    description: 重试次数
    llm_description: 接口调用失败时的重试次数
    human_description:
      en_US: "Number of retries when interface call fails"
      zh_Hans: "接口调用失败时的重试次数"
    label:
      en_US: Retries
      zh_Hans: 重试次数
    min: 1
    max: 10
  - name: timeout
    type: number
    required: false
    form: llm
    default: 900
    description: 超时时间（秒）
    llm_description: 接口调用的超时时间（秒）
    human_description:
      en_US: "Timeout for interface calls in seconds"
      zh_Hans: "接口调用的超时时间（秒）"
    label:
      en_US: Timeout
      zh_Hans: 超时时间
    min: 5
    max: 3600

extra:
  python:
    source: tools/stock_financial_analysis.py
